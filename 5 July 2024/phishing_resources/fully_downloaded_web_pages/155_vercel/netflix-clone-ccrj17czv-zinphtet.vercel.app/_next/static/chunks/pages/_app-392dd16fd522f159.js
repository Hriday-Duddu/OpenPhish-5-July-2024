(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1118:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return c(8510)}])},3635:function(a,b,c){"use strict";var d=c(5893);c(7294);var e=c(9152),f=c.n(e),g=function(){return(0,d.jsxs)("div",{className:f().loader,children:[(0,d.jsx)("div",{}),(0,d.jsx)("div",{}),(0,d.jsx)("div",{}),(0,d.jsx)("div",{}),(0,d.jsx)("div",{}),(0,d.jsx)("div",{}),(0,d.jsx)("div",{}),(0,d.jsx)("div",{}),(0,d.jsx)("div",{}),(0,d.jsx)("div",{}),(0,d.jsx)("div",{}),(0,d.jsx)("div",{})]})};b.Z=g},2983:function(a,b,c){"use strict";c.d(b,{m:function(){return b0}});var d,e,f,g,h,i,j,k,l,m,n=((d=n||{}).MissingApiKey="MISSING_API_KEY",d.ModalNotReady="MODAL_NOT_READY",d.MalformedResponse="MALFORMED_RESPONSE",d.InvalidArgument="INVALID_ARGUMENT",d.ExtensionNotInitialized="EXTENSION_NOT_INITIALIZED",d.IncompatibleExtensions="INCOMPATIBLE_EXTENSIONS",d),o=((e=o||{}).SyncWeb3Method="SYNC_WEB3_METHOD",e.DuplicateIframe="DUPLICATE_IFRAME",e.ReactNativeEndpointConfiguration="REACT_NATIVE_ENDPOINT_CONFIGURATION",e.DeprecationNotice="DEPRECATION_NOTICE",e),p=((f=p||{})[f.ParseError=-32700]="ParseError",f[f.InvalidRequest=-32600]="InvalidRequest",f[f.MethodNotFound=-32601]="MethodNotFound",f[f.InvalidParams=-32602]="InvalidParams",f[f.InternalError=-32603]="InternalError",f[f.MagicLinkFailedVerification=-1e4]="MagicLinkFailedVerification",f[f.MagicLinkExpired=-10001]="MagicLinkExpired",f[f.MagicLinkRateLimited=-10002]="MagicLinkRateLimited",f[f.MagicLinkInvalidRedirectURL=-10006]="MagicLinkInvalidRedirectURL",f[f.UserAlreadyLoggedIn=-10003]="UserAlreadyLoggedIn",f[f.UpdateEmailFailed=-10004]="UpdateEmailFailed",f[f.UserRequestEditEmail=-10005]="UserRequestEditEmail",f[f.InactiveRecipient=-10010]="InactiveRecipient",f[f.AccessDeniedToUser=-10011]="AccessDeniedToUser",f),q=((h=q||{}).LoginWithSms="magic_auth_login_with_sms",h.LoginWithEmailOTP="magic_auth_login_with_email_otp",h.LoginWithMagicLink="magic_auth_login_with_magic_link",h.LoginWithCredential="magic_auth_login_with_credential",h.GetIdToken="magic_auth_get_id_token",h.GenerateIdToken="magic_auth_generate_id_token",h.GetMetadata="magic_auth_get_metadata",h.IsLoggedIn="magic_auth_is_logged_in",h.Logout="magic_auth_logout",h.UpdateEmail="magic_auth_update_email",h.UserSettings="magic_auth_settings",h.UserSettingsTestMode="magic_auth_settings_testing_mode",h.LoginWithSmsTestMode="magic_auth_login_with_sms_testing_mode",h.LoginWithEmailOTPTestMode="magic_auth_login_with_email_otp_testing_mode",h.LoginWithMagicLinkTestMode="magic_login_with_magic_link_testing_mode",h.LoginWithCredentialTestMode="magic_auth_login_with_credential_testing_mode",h.GetIdTokenTestMode="magic_auth_get_id_token_testing_mode",h.GenerateIdTokenTestMode="magic_auth_generate_id_token_testing_mode",h.GetMetadataTestMode="magic_auth_get_metadata_testing_mode",h.IsLoggedInTestMode="magic_auth_is_logged_in_testing_mode",h.LogoutTestMode="magic_auth_logout_testing_mode",h.UpdateEmailTestMode="magic_auth_update_email_testing_mode",h),r=((i=r||{}).MAGIC_HANDLE_RESPONSE="MAGIC_HANDLE_RESPONSE",i.MAGIC_OVERLAY_READY="MAGIC_OVERLAY_READY",i.MAGIC_SHOW_OVERLAY="MAGIC_SHOW_OVERLAY",i.MAGIC_HIDE_OVERLAY="MAGIC_HIDE_OVERLAY",i.MAGIC_HANDLE_EVENT="MAGIC_HANDLE_EVENT",i),s=((j=s||{}).MAGIC_HANDLE_REQUEST="MAGIC_HANDLE_REQUEST",j),t=((k=t||{}).Harmony="HARMONY",k),u=c(4155),v=Object.create,w=Object.defineProperty,x=Object.defineProperties,y=Object.getOwnPropertyDescriptor,z=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertyNames,B=Object.getOwnPropertySymbols,C=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,F=(a,b,c)=>b in a?w(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,G=(a,b)=>{for(var c in b||(b={}))D.call(b,c)&&F(a,c,b[c]);if(B)for(var c of B(b))E.call(b,c)&&F(a,c,b[c]);return a},H=(a,b)=>x(a,z(b)),I=(a,b,c)=>new Promise((d,e)=>{var f=a=>{try{h(c.next(a))}catch(b){e(b)}},g=a=>{try{h(c.throw(a))}catch(b){e(b)}},h=a=>a.done?d(a.value):Promise.resolve(a.value).then(f,g);h((c=c.apply(a,b)).next())}),J=(l=(a,b)=>{var c=Object.prototype.hasOwnProperty,d="~";function e(){}function f(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function g(a,b,c,e,g){if("function"!=typeof c)throw TypeError("The listener must be a function");var h=new f(c,e||a,g),i=d?d+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function h(a,b){0== --a._eventsCount?a._events=new e:delete a._events[b]}function i(){this._events=new e,this._eventsCount=0}Object.create&&(e.prototype=Object.create(null),new e().__proto__||(d=!1)),i.prototype.eventNames=function(){var a,b,e=[];if(0===this._eventsCount)return e;for(b in a=this._events)c.call(a,b)&&e.push(d?b.slice(1):b);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(a)):e},i.prototype.listeners=function(a){var b=d?d+a:a,c=this._events[b];if(!c)return[];if(c.fn)return[c.fn];for(var e=0,f=c.length,g=Array(f);e<f;e++)g[e]=c[e].fn;return g},i.prototype.listenerCount=function(a){var b=d?d+a:a,c=this._events[b];return c?c.fn?1:c.length:0},i.prototype.emit=function(a,b,c,e,f,g){var h=d?d+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,c),!0;case 4:return k.fn.call(k.context,b,c,e),!0;case 5:return k.fn.call(k.context,b,c,e,f),!0;case 6:return k.fn.call(k.context,b,c,e,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,c);break;case 4:k[j].fn.call(k[j].context,b,c,e);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},i.prototype.on=function(a,b,c){return g(this,a,b,c,!1)},i.prototype.once=function(a,b,c){return g(this,a,b,c,!0)},i.prototype.removeListener=function(a,b,c,e){var f=d?d+a:a;if(!this._events[f])return this;if(!b)return h(this,f),this;var g=this._events[f];if(g.fn)g.fn!==b||e&&!g.once||c&&g.context!==c||h(this,f);else{for(var i=0,j=[],k=g.length;i<k;i++)(g[i].fn!==b||e&&!g[i].once||c&&g[i].context!==c)&&j.push(g[i]);j.length?this._events[f]=1===j.length?j[0]:j:h(this,f)}return this},i.prototype.removeAllListeners=function(a){var b;return a?(b=d?d+a:a,this._events[b]&&h(this,b)):(this._events=new e,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=d,i.EventEmitter=i,void 0!==b&&(b.exports=i)},()=>(m||l((m={exports:{}}).exports,m),m.exports)),K={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},L="object"==typeof u&&u.env&&u.env.NODE_DEBUG&&/\bsemver\b/i.test(u.env.NODE_DEBUG)?(...a)=>console.error("SEMVER",...a):()=>{},M=function(a){let b={exports:{}};return a(b,b.exports),b.exports}(function(a,b){let{MAX_SAFE_COMPONENT_LENGTH:c}=K,d=(b=a.exports={}).re=[],e=b.src=[],f=b.t={},g=0,h=(a,b,c)=>{let h=g++;L(h,b),f[a]=h,e[h]=b,d[h]=RegExp(b,c?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","[0-9]+"),h("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),h("MAINVERSION",`(${e[f.NUMERICIDENTIFIER]})\\.(${e[f.NUMERICIDENTIFIER]})\\.(${e[f.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${e[f.NUMERICIDENTIFIERLOOSE]})\\.(${e[f.NUMERICIDENTIFIERLOOSE]})\\.(${e[f.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${e[f.NUMERICIDENTIFIER]}|${e[f.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${e[f.NUMERICIDENTIFIERLOOSE]}|${e[f.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${e[f.PRERELEASEIDENTIFIER]}(?:\\.${e[f.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${e[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${e[f.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER","[0-9A-Za-z-]+"),h("BUILD",`(?:\\+(${e[f.BUILDIDENTIFIER]}(?:\\.${e[f.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${e[f.MAINVERSION]}${e[f.PRERELEASE]}?${e[f.BUILD]}?`),h("FULL",`^${e[f.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${e[f.MAINVERSIONLOOSE]}${e[f.PRERELEASELOOSE]}?${e[f.BUILD]}?`),h("LOOSE",`^${e[f.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${e[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${e[f.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${e[f.XRANGEIDENTIFIER]})(?:\\.(${e[f.XRANGEIDENTIFIER]})(?:\\.(${e[f.XRANGEIDENTIFIER]})(?:${e[f.PRERELEASE]})?${e[f.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${e[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${e[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${e[f.XRANGEIDENTIFIERLOOSE]})(?:${e[f.PRERELEASELOOSE]})?${e[f.BUILD]}?)?)?`),h("XRANGE",`^${e[f.GTLT]}\\s*${e[f.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${e[f.GTLT]}\\s*${e[f.XRANGEPLAINLOOSE]}$`),h("COERCE",`(^|[^\\d])(\\d{1,${c}})(?:\\.(\\d{1,${c}}))?(?:\\.(\\d{1,${c}}))?(?:$|[^\\d])`),h("COERCERTL",e[f.COERCE],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${e[f.LONETILDE]}\\s+`,!0),b.tildeTrimReplace="$1~",h("TILDE",`^${e[f.LONETILDE]}${e[f.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${e[f.LONETILDE]}${e[f.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${e[f.LONECARET]}\\s+`,!0),b.caretTrimReplace="$1^",h("CARET",`^${e[f.LONECARET]}${e[f.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${e[f.LONECARET]}${e[f.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${e[f.GTLT]}\\s*(${e[f.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${e[f.GTLT]}\\s*(${e[f.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${e[f.GTLT]}\\s*(${e[f.LOOSEPLAIN]}|${e[f.XRANGEPLAIN]})`,!0),b.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${e[f.XRANGEPLAIN]})\\s+-\\s+(${e[f.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${e[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${e[f.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0.0.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}),N=/^[0-9]+$/,O=(a,b)=>{let c=N.test(a),d=N.test(b);return c&&d&&(a=+a,b=+b),a===b?0:c&&!d?-1:d&&!c?1:a<b?-1:1},P=(a,b)=>O(b,a),{MAX_LENGTH:Q,MAX_SAFE_INTEGER:R}=K,{re:S,t:T}=M,{compareIdentifiers:U}={compareIdentifiers:O,rcompareIdentifiers:P},V=class{constructor(a,b){if(b&&"object"==typeof b||(b={loose:!!b,includePrerelease:!1}),a instanceof V){if(!!b.loose===a.loose&& !!b.includePrerelease===a.includePrerelease)return a;a=a.version}else if("string"!=typeof a)throw TypeError(`Invalid Version: ${a}`);if(a.length>Q)throw TypeError(`version is longer than ${Q} characters`);L("SemVer",a,b),this.options=b,this.loose=!!b.loose,this.includePrerelease=!!b.includePrerelease;let c=a.trim().match(b.loose?S[T.LOOSE]:S[T.FULL]);if(!c)throw TypeError(`Invalid Version: ${a}`);if(this.raw=a,this.major=+c[1],this.minor=+c[2],this.patch=+c[3],this.major>R||this.major<0)throw TypeError("Invalid major version");if(this.minor>R||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>R||this.patch<0)throw TypeError("Invalid patch version");c[4]?this.prerelease=c[4].split(".").map(a=>{if(/^[0-9]+$/.test(a)){let b=+a;if(b>=0&&b<R)return b}return a}):this.prerelease=[],this.build=c[5]?c[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(a){if(L("SemVer.compare",this.version,this.options,a),!(a instanceof V)){if("string"==typeof a&&a===this.version)return 0;a=new V(a,this.options)}return a.version===this.version?0:this.compareMain(a)||this.comparePre(a)}compareMain(a){return a instanceof V||(a=new V(a,this.options)),U(this.major,a.major)||U(this.minor,a.minor)||U(this.patch,a.patch)}comparePre(a){if(a instanceof V||(a=new V(a,this.options)),this.prerelease.length&&!a.prerelease.length)return -1;if(!this.prerelease.length&&a.prerelease.length)return 1;if(!this.prerelease.length&&!a.prerelease.length)return 0;let b=0;do{let c=this.prerelease[b],d=a.prerelease[b];if(L("prerelease compare",b,c,d),void 0===c&& void 0===d)return 0;if(void 0===d)return 1;if(void 0===c)return -1;if(c!==d)return U(c,d)}while(++b)}compareBuild(a){a instanceof V||(a=new V(a,this.options));let b=0;do{let c=this.build[b],d=a.build[b];if(L("prerelease compare",b,c,d),void 0===c&& void 0===d)return 0;if(void 0===d)return 1;if(void 0===c)return -1;if(c!==d)return U(c,d)}while(++b)}inc(a,b){switch(a){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",b);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",b);break;case"prepatch":this.prerelease.length=0,this.inc("patch",b),this.inc("pre",b);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",b),this.inc("pre",b);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let c=this.prerelease.length;for(;--c>=0;)"number"==typeof this.prerelease[c]&&(this.prerelease[c]++,c=-2);-1===c&&this.prerelease.push(0)}b&&(this.prerelease[0]===b?isNaN(this.prerelease[1])&&(this.prerelease=[b,0]):this.prerelease=[b,0]);break;default:throw Error(`invalid increment argument: ${a}`)}return this.format(),this.raw=this.version,this}},W=(a,b,c)=>new V(a,c).compare(new V(b,c)),X=(a,b,c)=>0===W(a,b,c),Y=(a,b,c)=>0!==W(a,b,c),Z=(a,b,c)=>W(a,b,c)>0,$=(a,b,c)=>W(a,b,c)>=0,_=(a,b,c)=>0>W(a,b,c),aa=(a,b,c)=>0>=W(a,b,c),ab=(a,b,c,d)=>{switch(b){case"===":return"object"==typeof a&&(a=a.version),"object"==typeof c&&(c=c.version),a===c;case"!==":return"object"==typeof a&&(a=a.version),"object"==typeof c&&(c=c.version),a!==c;case"":case"=":case"==":return X(a,c,d);case"!=":return Y(a,c,d);case">":return Z(a,c,d);case">=":return $(a,c,d);case"<":return _(a,c,d);case"<=":return aa(a,c,d);default:throw TypeError(`Invalid operator: ${b}`)}},ac=Symbol("SemVer ANY"),ad=class{static get ANY(){return ac}constructor(a,b){if(b&&"object"==typeof b||(b={loose:!!b,includePrerelease:!1}),a instanceof ad){if(!!b.loose===a.loose)return a;a=a.value}L("comparator",a,b),this.options=b,this.loose=!!b.loose,this.parse(a),this.semver===ac?this.value="":this.value=this.operator+this.semver.version,L("comp",this)}parse(a){let b=this.options.loose?ae[af.COMPARATORLOOSE]:ae[af.COMPARATOR],c=a.match(b);if(!c)throw TypeError(`Invalid comparator: ${a}`);this.operator=void 0!==c[1]?c[1]:"","="===this.operator&&(this.operator=""),c[2]?this.semver=new V(c[2],this.options.loose):this.semver=ac}toString(){return this.value}test(a){if(L("Comparator.test",a,this.options.loose),this.semver===ac||a===ac)return!0;if("string"==typeof a)try{a=new V(a,this.options)}catch(b){return!1}return ab(a,this.operator,this.semver,this.options)}intersects(a,b){if(!(a instanceof ad))throw TypeError("a Comparator is required");if(b&&"object"==typeof b||(b={loose:!!b,includePrerelease:!1}),""===this.operator)return""===this.value||new ag(a.value,b).test(this.value);if(""===a.operator)return""===a.value||new ag(this.value,b).test(a.semver);let c=!(">="!==this.operator&&">"!==this.operator||">="!==a.operator&&">"!==a.operator),d=!("<="!==this.operator&&"<"!==this.operator||"<="!==a.operator&&"<"!==a.operator),e=this.semver.version===a.semver.version,f=!(">="!==this.operator&&"<="!==this.operator||">="!==a.operator&&"<="!==a.operator),g=ab(this.semver,"<",a.semver,b)&&(">="===this.operator||">"===this.operator)&&("<="===a.operator||"<"===a.operator),h=ab(this.semver,">",a.semver,b)&&("<="===this.operator||"<"===this.operator)&&(">="===a.operator||">"===a.operator);return c||d||e&&f||g||h}},{re:ae,t:af}=M,ag=class{constructor(a,b){if(b&&"object"==typeof b||(b={loose:!!b,includePrerelease:!1}),a instanceof ag)return!!b.loose===a.loose&& !!b.includePrerelease===a.includePrerelease?a:new ag(a.raw,b);if(a instanceof ad)return this.raw=a.value,this.set=[[a]],this.format(),this;if(this.options=b,this.loose=!!b.loose,this.includePrerelease=!!b.includePrerelease,this.raw=a,this.set=a.split(/\s*\|\|\s*/).map(a=>this.parseRange(a.trim())).filter(a=>a.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${a}`);this.format()}format(){return this.range=this.set.map(a=>a.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(a){let{loose:b}=this.options;a=a.trim();let c=b?ah[ai.HYPHENRANGELOOSE]:ah[ai.HYPHENRANGE];a=a.replace(c,ax(this.options.includePrerelease)),L("hyphen replace",a),a=a.replace(ah[ai.COMPARATORTRIM],aj),L("comparator trim",a,ah[ai.COMPARATORTRIM]),a=(a=(a=a.replace(ah[ai.TILDETRIM],ak)).replace(ah[ai.CARETTRIM],al)).split(/\s+/).join(" ");let d=b?ah[ai.COMPARATORLOOSE]:ah[ai.COMPARATOR];return a.split(" ").map(a=>an(a,this.options)).join(" ").split(/\s+/).map(a=>aw(a,this.options)).filter(this.options.loose?a=>!!a.match(d):()=>!0).map(a=>new ad(a,this.options))}intersects(a,b){if(!(a instanceof ag))throw TypeError("a Range is required");return this.set.some(c=>am(c,b)&&a.set.some(a=>am(a,b)&&c.every(c=>a.every(a=>c.intersects(a,b)))))}test(a){if(!a)return!1;if("string"==typeof a)try{a=new V(a,this.options)}catch(b){return!1}for(let c=0;c<this.set.length;c++)if(ay(this.set[c],a,this.options))return!0;return!1}},{re:ah,t:ai,comparatorTrimReplace:aj,tildeTrimReplace:ak,caretTrimReplace:al}=M,am=(a,b)=>{let c=!0,d=a.slice(),e=d.pop();for(;c&&d.length;)c=d.every(a=>e.intersects(a,b)),e=d.pop();return c},an=(a,b)=>(L("comp",a,b),a=ar(a,b),L("caret",a),a=ap(a,b),L("tildes",a),a=at(a,b),L("xrange",a),a=av(a,b),L("stars",a),a),ao=a=>!a||"x"===a.toLowerCase()||"*"===a,ap=(a,b)=>a.trim().split(/\s+/).map(a=>aq(a,b)).join(" "),aq=(a,b)=>{let c=b.loose?ah[ai.TILDELOOSE]:ah[ai.TILDE];return a.replace(c,(b,c,d,e,f)=>{let g;return L("tilde",a,b,c,d,e,f),ao(c)?g="":ao(d)?g=`>=${c}.0.0 <${+c+1}.0.0-0`:ao(e)?g=`>=${c}.${d}.0 <${c}.${+d+1}.0-0`:f?(L("replaceTilde pr",f),g=`>=${c}.${d}.${e}-${f} <${c}.${+d+1}.0-0`):g=`>=${c}.${d}.${e} <${c}.${+d+1}.0-0`,L("tilde return",g),g})},ar=(a,b)=>a.trim().split(/\s+/).map(a=>as(a,b)).join(" "),as=(a,b)=>{L("caret",a,b);let c=b.loose?ah[ai.CARETLOOSE]:ah[ai.CARET],d=b.includePrerelease?"-0":"";return a.replace(c,(b,c,e,f,g)=>{let h;return L("caret",a,b,c,e,f,g),ao(c)?h="":ao(e)?h=`>=${c}.0.0${d} <${+c+1}.0.0-0`:ao(f)?h="0"===c?`>=${c}.${e}.0${d} <${c}.${+e+1}.0-0`:`>=${c}.${e}.0${d} <${+c+1}.0.0-0`:g?(L("replaceCaret pr",g),h="0"===c?"0"===e?`>=${c}.${e}.${f}-${g} <${c}.${e}.${+f+1}-0`:`>=${c}.${e}.${f}-${g} <${c}.${+e+1}.0-0`:`>=${c}.${e}.${f}-${g} <${+c+1}.0.0-0`):(L("no pr"),h="0"===c?"0"===e?`>=${c}.${e}.${f}${d} <${c}.${e}.${+f+1}-0`:`>=${c}.${e}.${f}${d} <${c}.${+e+1}.0-0`:`>=${c}.${e}.${f} <${+c+1}.0.0-0`),L("caret return",h),h})},at=(a,b)=>(L("replaceXRanges",a,b),a.split(/\s+/).map(a=>au(a,b)).join(" ")),au=(a,b)=>{a=a.trim();let c=b.loose?ah[ai.XRANGELOOSE]:ah[ai.XRANGE];return a.replace(c,(c,d,e,f,g,h)=>{L("xRange",a,c,d,e,f,g,h);let i=ao(e),j=i||ao(f),k=j||ao(g),l=k;return"="===d&&l&&(d=""),h=b.includePrerelease?"-0":"",i?c=">"===d||"<"===d?"<0.0.0-0":"*":d&&l?(j&&(f=0),g=0,">"===d?(d=">=",j?(e=+e+1,f=0,g=0):(f=+f+1,g=0)):"<="===d&&(d="<",j?e=+e+1:f=+f+1),"<"===d&&(h="-0"),c=`${d+e}.${f}.${g}${h}`):j?c=`>=${e}.0.0${h} <${+e+1}.0.0-0`:k&&(c=`>=${e}.${f}.0${h} <${e}.${+f+1}.0-0`),L("xRange return",c),c})},av=(a,b)=>(L("replaceStars",a,b),a.trim().replace(ah[ai.STAR],"")),aw=(a,b)=>(L("replaceGTE0",a,b),a.trim().replace(ah[b.includePrerelease?ai.GTE0PRE:ai.GTE0],"")),ax=a=>(b,c,d,e,f,g,h,i,j,k,l,m,n)=>`${c=ao(d)?"":ao(e)?`>=${d}.0.0${a?"-0":""}`:ao(f)?`>=${d}.${e}.0${a?"-0":""}`:g?`>=${c}`:`>=${c}${a?"-0":""}`} ${i=ao(j)?"":ao(k)?`<${+j+1}.0.0-0`:ao(l)?`<${j}.${+k+1}.0-0`:m?`<=${j}.${k}.${l}-${m}`:a?`<${j}.${k}.${+l+1}-0`:`<=${i}`}`.trim(),ay=(a,b,c)=>{for(let d=0;d<a.length;d++)if(!a[d].test(b))return!1;if(b.prerelease.length&&!c.includePrerelease){for(let e=0;e<a.length;e++)if(L(a[e].semver),a[e].semver!==ad.ANY&&a[e].semver.prerelease.length>0){let f=a[e].semver;if(f.major===b.major&&f.minor===b.minor&&f.patch===b.patch)return!0}return!1}return!0},az=(a,b,c)=>{try{b=new ag(b,c)}catch(d){return!1}return b.test(a)},{MAX_LENGTH:aA}=K,{re:aB,t:aC}=M,aD=(a,b)=>{if(b&&"object"==typeof b||(b={loose:!!b,includePrerelease:!1}),a instanceof V)return a;if("string"!=typeof a||a.length>aA||!(b.loose?aB[aC.LOOSE]:aB[aC.FULL]).test(a))return null;try{return new V(a,b)}catch(c){return null}},{re:aE,t:aF}=M,aG=(a,b)=>{if(a instanceof V)return a;if("number"==typeof a&&(a=String(a)),"string"!=typeof a)return null;let c=null;if((b=b||{}).rtl){let d;for(;(d=aE[aF.COERCERTL].exec(a))&&(!c||c.index+c[0].length!==a.length);)c&&d.index+d[0].length===c.index+c[0].length||(c=d),aE[aF.COERCERTL].lastIndex=d.index+d[1].length+d[2].length;aE[aF.COERCERTL].lastIndex=-1}else c=a.match(aE[aF.COERCE]);return null===c?null:aD(`${c[2]}.${c[3]||"0"}.${c[4]||"0"}`,b)};function aH(a){return String.fromCharCode(parseInt(a.slice(1),16))}function aI(a){return`%${`00${a.charCodeAt(0).toString(16)}`.slice(-2)}`}function aJ(a){var b;return btoa(encodeURIComponent(b=JSON.stringify(a)).replace(/%[0-9A-F]{2}/g,aH))}function aK(a){return void 0===a}function aL(a){var b;return null===(b=a)||aK(a)}function aM(a){if(!a)return!0;for(let b in a)if(Object.hasOwnProperty.call(a,b))return!1;return!0}var aN={},aO=class extends Error{constructor(a,b){super(`Magic SDK Error: [${a}] ${b}`),this.code=a,this.rawMessage=b,this.__proto__=Error,Object.setPrototypeOf(this,aO.prototype)}},aP=class extends Error{constructor(a){var b;super(),this.__proto__=Error;let c=Number(null==a?void 0:a.code);this.rawMessage=(null==a?void 0:a.message)||"Internal error",b=c,this.code=!aL(b)&&"number"==typeof b&&Object.values(p).includes(b)?c:p.InternalError,this.message=`Magic RPC Error: [${this.code}] ${this.rawMessage}`,Object.setPrototypeOf(this,aP.prototype)}},aQ=class{constructor(a,b){this.code=a,this.rawMessage=b,this.message=`Magic SDK Warning: [${a}] ${b}`}log(){console.warn(this.message)}},aR=class extends Error{constructor(a,b,c,d){super(`Magic Extension Error (${a.name}): [${b}] ${c}`),this.code=b,this.rawMessage=c,this.data=d,this.__proto__=Error,Object.setPrototypeOf(this,aR.prototype)}},aS=class{constructor(a,b,c){this.code=b,this.rawMessage=c,this.message=`Magic Extension Warning (${a.name}): [${b}] ${c}`}log(){console.warn(this.message)}},aT=function*(){let a=0;for(;;)a<Number.MAX_SAFE_INTEGER?yield++a:a=0}();function aU(){return aT.next().value}var aV=Symbol("Payload pre-processed by Magic SDK");function aW(a){return Object.defineProperty(a,aV,{value:!0,enumerable:!1}),a}function aX(a){var b,c,d,e;return(e=a)[aV]||(a.jsonrpc=null!=(b=a.jsonrpc)?b:"2.0",a.id=aU(),a.method=null!=(c=a.method)?c:"noop",a.params=null!=(d=a.params)?d:[],aW(a)),a}function aY(a,b=[]){return aW({params:b,method:a,jsonrpc:"2.0",id:aU()})}var aZ,a$,a_=class{constructor(a){var b;a instanceof a_?(this._jsonrpc=a.payload.jsonrpc,this._id=a.payload.id,this._result=a.payload.result,this._error=a.payload.error):aL(b=a)||aK(b.jsonrpc)||aK(b.id)||aK(b.result)&&aK(b.error)?(this._jsonrpc=a.jsonrpc,this._id=a.id,this._result=void 0,this._error=void 0):(this._jsonrpc=a.jsonrpc,this._id=a.id,this._result=a.result,this._error=a.error)}applyError(a){return this._error=a,this}applyResult(a){return this._result=a,this}get hasError(){return void 0!==this._error&&null!==this._error}get hasResult(){return void 0!==this._result}get payload(){return{jsonrpc:this._jsonrpc,id:this._id,result:this._result,error:this._error}}},a0=(a$=J(),((a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let e of A(b))!D.call(a,e)&&"default"!==e&&w(a,e,{get:()=>b[e],enumerable:!(d=y(b,e))||d.enumerable});return a})((aZ=w(null!=a$?v(C(a$)):{},"default",a$&&a$.__esModule?{get:()=>a$.default,enumerable:!0}:{value:a$,enumerable:!0}),w(aZ,"__esModule",{value:!0})),a$)),a1=class extends a0.default{};function a2(){let a=new a1;return{emitter:a,createChainingEmitterMethod:(b,c)=>(...d)=>(a[b].apply(a,d),c),createBoundEmitterMethod:b=>(...c)=>a[b].apply(a,c)}}var a3=Symbol("isPromiEvent");function a4(a){let b=a5(a),{createBoundEmitterMethod:c,createChainingEmitterMethod:d}=a2(),e=Symbol("Promise.then"),f=Symbol("Promise.catch"),g=Symbol("Promise.finally"),h=(a,b)=>(...c)=>i(b[a].apply(b,c)),i=a=>Object.assign(a,{[a3]:!0,[e]:a[e]||a.then,[f]:a[f]||a.catch,[g]:a[g]||a.finally,then:h(e,a),catch:h(f,a),finally:h(g,a),on:d("on",a),once:d("once",a),addListener:d("addListener",a),off:d("off",a),removeListener:d("removeListener",a),removeAllListeners:d("removeAllListeners",a),emit:c("emit"),eventNames:c("eventNames"),listeners:c("listeners"),listenerCount:c("listenerCount")}),j=i(b.then(a=>(j.emit("done",a),j.emit("settled"),a),a=>{throw j.emit("error",a),j.emit("settled"),a}));return j}function a5(a){return new Promise((b,c)=>{Promise.resolve(a(b,c)).catch(c)})}var a6=class{constructor(a){this.sdk=a}get overlay(){return this.sdk.overlay}request(a){let b=this.overlay.post(s.MAGIC_HANDLE_REQUEST,aX(a)),c=a4((a,c)=>{b.then(b=>{if(d(),b.hasError)c(new aP(b.payload.error));else if(b.hasResult)a(b.payload.result);else throw new aO(n.MalformedResponse,"Response from the Magic iframe is malformed.")}).catch(a=>{d(),c(a)})}),d=this.overlay.on(r.MAGIC_HANDLE_EVENT,b=>{var d;let{response:e}=b.data;if(e.id===a.id&&(null==(d=e.result)?void 0:d.event)){let{event:f,params:g=[]}=e.result;c.emit(f,...g)}});return c}},a7=class extends a6{loginWithMagicLink(a){let{email:b,showUI:c=!0,redirectURI:d}=a,e=aY(this.sdk.testMode?q.LoginWithMagicLinkTestMode:q.LoginWithMagicLink,[{email:b,showUI:c,redirectURI:d}]);return this.request(e)}loginWithSMS(a){let{phoneNumber:b}=a,c=aY(this.sdk.testMode?q.LoginWithSmsTestMode:q.LoginWithSms,[{phoneNumber:b,showUI:!0}]);return this.request(c)}loginWithEmailOTP(a){let{email:b}=a,c=aY(this.sdk.testMode?q.LoginWithEmailOTPTestMode:q.LoginWithEmailOTP,[{email:b,showUI:!0}]);return this.request(c)}loginWithCredential(a){let b=null!=a?a:"";if(!a&&"web"===aN.platform){b=window.location.search;let c=window.location.origin+window.location.pathname;window.history.replaceState(null,"",c)}let d=aY(this.sdk.testMode?q.LoginWithCredentialTestMode:q.LoginWithCredential,[b]);return this.request(d)}},a8={};function a9(a){return(...b)=>I(this,null,function*(){return g||(g=yield aN.configureStorage()),yield g.ready(),g[a](...b)})}((a,b)=>{for(var c in b)w(a,c,{get:b[c],enumerable:!0})})(a8,{clear:()=>bd,getItem:()=>ba,iterate:()=>bh,key:()=>bf,keys:()=>bg,length:()=>be,removeItem:()=>bc,setItem:()=>bb});var ba=a9("getItem"),bb=a9("setItem"),bc=a9("removeItem"),bd=a9("clear"),be=a9("length"),bf=a9("key"),bg=a9("keys"),bh=a9("iterate"),bi="STORE_KEY_PRIVATE_KEY",bj="STORE_KEY_PUBLIC_JWK",bk="ECDSA",bl="P-256",bm={name:bk,namedCurve:bl},bn={name:bk,namedCurve:bl};function bo(){return I(this,null,function*(){let a=null,{subtle:b}=window.crypto,c=yield b.generateKey(bm,!0,["sign"]),d=yield b.exportKey("jwk",c.privateKey);a=yield b.exportKey("jwk",c.publicKey);let e=yield b.importKey("jwk",d,bn,!1,["sign"]);yield bb(bi,e),yield bb(bj,a)})}function bp(){let a="undefined"!=typeof window&&!!window.crypto,b=a&&!!window.crypto.subtle;return a&&b}function bq(a){return br(bs(a))}function br(a){return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+/g,"")}function bs(a){return encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,(a,b)=>String.fromCharCode(parseInt(b,16)))}var bt=class extends a6{getIdToken(a){let b=aY(this.sdk.testMode?q.GetIdTokenTestMode:q.GetIdToken,[a]);return this.request(b)}generateIdToken(a){let b=aY(this.sdk.testMode?q.GenerateIdTokenTestMode:q.GenerateIdToken,[a]);return this.request(b)}getMetadata(){let a=aY(this.sdk.testMode?q.GetMetadataTestMode:q.GetMetadata);return this.request(a)}updateEmail(a){let{email:b,showUI:c=!0}=a,d=aY(this.sdk.testMode?q.UpdateEmailTestMode:q.UpdateEmail,[{email:b,showUI:c}]);return this.request(d)}isLoggedIn(){let a=aY(this.sdk.testMode?q.IsLoggedInTestMode:q.IsLoggedIn);return this.request(a)}logout(){bc(bj),bc(bi);let a=aY(this.sdk.testMode?q.LogoutTestMode:q.Logout);return this.request(a)}showSettings(){let a=aY(this.sdk.testMode?q.UserSettingsTestMode:q.UserSettings);return this.request(a)}},{createBoundEmitterMethod:bu,createChainingEmitterMethod:bv}=a2(),bw=class extends a6{constructor(){super(...arguments),this.isMagic=!0,this.on=bv("on",this),this.once=bv("once",this),this.addListener=bv("addListener",this),this.off=bv("off",this),this.removeListener=bv("removeListener",this),this.removeAllListeners=bv("removeAllListeners",this),this.emit=bu("emit"),this.eventNames=bu("eventNames"),this.listeners=bu("listeners"),this.listenerCount=bu("listenerCount")}sendAsync(a,b){if(!b){var c,d;let e,f,g;throw c={procedure:"Magic.rpcProvider.sendAsync",argument:1,expected:"function",received:null===b?"null":typeof b},new aO(n.InvalidArgument,`Invalid ${(f=(e=(d=c.argument)+1)%10,g=e%100,1===f&&11!==g?`${e}st`:2===f&&12!==g?`${e}nd`:3===f&&13!==g?`${e}rd`:`${e}th`)} argument given to \`${c.procedure}\`.
  Expected: \`${c.expected}\`
  Received: \`${c.received}\``)}if(Array.isArray(a))this.overlay.post(s.MAGIC_HANDLE_REQUEST,a.map(a=>{let b=aX(a);return this.prefixPayloadMethodForTestMode(b),b})).then(a=>{b(null,a.map(a=>H(G({},a.payload),{error:a.hasError?new aP(a.payload.error):null})))});else{let h=aX(a);this.prefixPayloadMethodForTestMode(h),this.overlay.post(s.MAGIC_HANDLE_REQUEST,h).then(a=>{b(a.hasError?new aP(a.payload.error):null,a.payload)})}}send(a,b){if("string"==typeof a){let c=aY(a,Array.isArray(b)?b:[]);return this.request(c)}if(Array.isArray(a)||b){this.sendAsync(a,b);return}let d=new aQ(o.SyncWeb3Method,"Non-async web3 methods are deprecated in web3 > 1.0 and are not supported by the Magic web3 provider. Please use an async method instead.");return d.log(),new a_(a).applyError({code:-32603,message:d.rawMessage}).payload}enable(){let a=aY("eth_accounts");return this.request(a)}request(a){return this.prefixPayloadMethodForTestMode(a),super.request(a)}prefixPayloadMethodForTestMode(a){this.sdk.testMode&&(a.method=`testMode/eth/${a.method}`)}};function bx(a,b){return b?new URL(a,b):new URL(a)}var by=["request","overlay","sdk"],bz=class extends a6{constructor(){super(void 0),this.__sdk_access_field_descriptors__=new Map,this.__is_initialized__=!1,this.utils={createPromiEvent:a4,isPromiEvent:function(a){return!!a[a3]},encodeJSON:aJ,decodeJSON:function(a){var b;return JSON.parse(decodeURIComponent(Array.from(atob(b=a),aI).join("")))},createJsonRpcRequestPayload:aY,standardizeJsonRpcRequestPayload:aX,storage:a8};let a=[this,...function(a){let b=Object.getPrototypeOf(a),c=[b];for(;b!==a6.prototype;)b=Object.getPrototypeOf(b),c.push(b);return c}(this)];by.forEach(b=>{let c=a.map(a=>Object.getOwnPropertyDescriptor(a,b)),d=c.findIndex(a=>!!a),e=c[d];e&&(this.__sdk_access_field_descriptors__.set(b,{descriptor:e,isPrototypeField:d>0}),Object.defineProperty(this,b,{configurable:!0,get:()=>{var a;throw a=b,new aO(n.ExtensionNotInitialized,`Extensions must be initialized with a Magic SDK instance before \`Extension.${a}\` can be accessed. Do not invoke \`Extension.${a}\` inside an extension constructor.`)}}))})}init(a){this.__is_initialized__||(by.forEach(a=>{if(this.__sdk_access_field_descriptors__.has(a)){let{descriptor:b,isPrototypeField:c}=this.__sdk_access_field_descriptors__.get(a);c?delete this[a]:Object.defineProperty(this,a,b)}}),this.sdk=a,this.__is_initialized__=!0)}createDeprecationWarning(a){let{method:b,removalVersion:c,useInstead:d}=a,e=`\`${b}\` will be removed from this Extension in version \`${c}\`.${d?` Use \`${d}\` instead.`:""}`;return new aS(this,"DEPRECATION_NOTICE",e)}createWarning(a,b){return new aS(this,a,b)}createError(a,b,c){return new aR(this,a,b,c)}},bA=class extends bz{},bB=class extends bz{};function bC(a){return!a.compat||null==a.compat[aN.sdkName]||("string"==typeof a.compat[aN.sdkName]?az(aG(aN.version),a.compat[aN.sdkName]):!!a.compat[aN.sdkName])}bB.Internal=bA,bB.Anonymous="anonymous extension";var bD=class{constructor(a,b){var c;if(this.apiKey=a,!a)throw new aO(n.MissingApiKey,"Please provide an API key that you acquired from the Magic developer dashboard.");"react-native"===aN.platform&&(null==b?void 0:b.endpoint)&&new aQ(o.ReactNativeEndpointConfiguration,`CUSTOM DOMAINS ARE NOT SUPPORTED WHEN USING MAGIC SDK WITH REACT NATIVE! The \`endpoint\` parameter SHOULD NOT be provided. The Magic \`<iframe>\` is automatically wrapped by a WebView pointed at \`${aN.defaultEndpoint}\`. Changing this default behavior will lead to unexpected results and potentially security-threatening bugs.`).log();let{defaultEndpoint:d,version:e}=aN;this.testMode=!!(null==b?void 0:b.testMode),this.endpoint=bx(null!=(c=null==b?void 0:b.endpoint)?c:d).origin,this.auth=new a7(this),this.user=new bt(this),this.rpcProvider=new bw(this);let f=(function(a){var b,c;let d=null!=(b=null==a?void 0:a.extensions)?b:[],e={},f=[];if(Array.isArray(d)?d.forEach(a=>{bC(a)?(a.init(this),(a.name||a.name!==bB.Anonymous)&&(this[a.name]=a),a instanceof bB.Internal&&(aM(a.config)||(e[a.name]=a.config))):f.push(a)}):Object.keys(d).forEach(a=>{if(bC(d[a])){d[a].init(this);let b=d[a];this[a]=b,b instanceof bB.Internal&&(aM(b.config)||(e[d[a].name]=b.config))}else f.push(d[a])}),f.length){let g;throw c=f,g=`Some extensions are incompatible with \`${aN.sdkName}@${aN.version}\`:`,c.filter(a=>void 0!==a.compat&&null!==a.compat).forEach(a=>{let b=a.compat[aN.sdkName];"string"==typeof b?g+=`
  - Extension \`${a.name}\` supports version(s) \`${b}\``:b||(g+=`
  - Extension \`${a.name}\` does not support ${aN.platform} environments.`)}),new aO(n.IncompatibleExtensions,g)}return e}).call(this,b);this.parameters=aJ(G({API_KEY:this.apiKey,DOMAIN_ORIGIN:window.location?window.location.origin:"",ETH_NETWORK:null==b?void 0:b.network,host:bx(this.endpoint).host,sdk:{"magic-sdk":"magic-sdk","@magic-sdk/react-native":"magic-sdk-rn"}[aN.sdkName],version:e,ext:aM(f)?void 0:f,locale:(null==b?void 0:b.locale)||"en_US"},aN.bundleId?{bundleId:aN.bundleId}:{}))}get overlay(){if(!bD.__overlays__.has(this.parameters)){let a=new aN.ViewController(this.endpoint,this.parameters);a.init(),bD.__overlays__.set(this.parameters,a)}return bD.__overlays__.get(this.parameters)}preload(){return I(this,null,function*(){yield this.overlay.ready})}},bE=bD;bE.__overlays__=new Map;var bF,bG,bH,bI=class{constructor(a,b){this.endpoint=a,this.parameters=b,this.messageHandlers=new Set,this.ready=this.waitForReady(),this.listen()}post(a,b){return I(this,null,function*(){return a5(c=>I(this,null,function*(){var d;yield this.ready;let e=[],f=Array.isArray(b)?b.map(a=>a.id):[];yield this._post((yield function(a,b){return I(this,null,function*(){let c=yield ba("rt"),d;if("web"===aN.platform)try{d=yield function(){return I(this,null,function*(){var a,b;let c=yield function a(){return I(this,null,function*(){if(!bp()){console.info("webcrypto is not supported");return}return(yield ba(bj))||(yield bo()),ba(bj)})}();if(!c){console.info("unable to create public key or webcrypto is unsupported");return}let{subtle:d}=window.crypto,e=yield ba(bi);if(!e||!d){console.info("unable to find private key or webcrypto unsupported");return}let f,g,h={iat:Math.floor(new Date().getTime()/1e3),jti:((f=window.crypto.getRandomValues(new Uint8Array(16)))[6]=15&f[6]|64,f[8]=191&f[8]|128,g="",g+=f[0].toString(16),g+=f[1].toString(16),g+=f[2].toString(16),g+=f[3].toString(16),g+="-",g+=f[4].toString(16),g+=f[5].toString(16),g+="-",g+=f[6].toString(16),g+=f[7].toString(16),g+="-",g+=f[8].toString(16),g+=f[9].toString(16),g+="-",g+=f[10].toString(16),g+=f[11].toString(16),g+=f[12].toString(16),g+=f[13].toString(16),g+=f[14].toString(16),g+=f[15].toString(16))},i={protected:bq(JSON.stringify({typ:"dpop+jwt",alg:"ES256",jwk:c})),claims:bq(JSON.stringify(h))},j=(a=`${i.protected}.${i.claims}`,new TextEncoder().encode(a)),k;return`${i.protected}.${i.claims}.${b=new Uint8Array((yield d.sign({name:bk,hash:{name:"SHA-256"}},e,j))),k="",b.forEach(a=>{k+=String.fromCharCode(a)}),br(k)}`})}()}catch(e){console.error("webcrypto error",e)}return d?c?{msgType:a,payload:b,jwt:d,rt:c}:{msgType:a,payload:b,jwt:d}:{msgType:a,payload:b}})}(`${a}-${this.parameters}`,b)));let g=this.on(r.MAGIC_HANDLE_RESPONSE,(d=()=>g(),a=>{let{id:g,response:h}=function(a,b){var c,d,e;let f=null==(c=b.data.response)?void 0:c.id,g=(d=a,(e=f)&&Array.isArray(d)?d.find(a=>a.id===e):d);if(f&&g){let h=new a_(g).applyResult(b.data.response.result).applyError(b.data.response.error);return{id:f,response:h}}return{}}(b,a);(function(a){I(this,null,function*(){a.data.rt&&(yield bb("rt",a.data.rt))})})(a),g&&h&&Array.isArray(b)&&f.includes(g)?(e.push(h),e.length===b.length&&(d(),c(e))):g&&h&&!Array.isArray(b)&&g===b.id&&(d(),c(h))}))}))})}on(a,b){let c=b.bind(window),d=b=>{b.data.msgType===`${a}-${this.parameters}`&&c(b)};return this.messageHandlers.add(d),()=>this.messageHandlers.delete(d)}waitForReady(){return new Promise(a=>{this.on(r.MAGIC_OVERLAY_READY,()=>a())})}listen(){this.on(r.MAGIC_HIDE_OVERLAY,()=>{this.hideOverlay()}),this.on(r.MAGIC_SHOW_OVERLAY,()=>{this.showOverlay()})}},bJ=Object.create,bK=Object.defineProperty,bL=Object.getOwnPropertyDescriptor,bM=Object.getOwnPropertyNames,bN=Object.getPrototypeOf,bO=Object.prototype.hasOwnProperty,bP=a=>bK(a,"__esModule",{value:!0}),bQ=(bF=function(a){if("undefined"!=typeof require)return require.apply(this,arguments);throw Error('Dynamic require of "'+a+'" is not supported')},"undefined"!=typeof require?require:"undefined"!=typeof Proxy?new Proxy(bF,{get:(a,b)=>("undefined"!=typeof require?require:a)[b]}):bF),bR=(a,b)=>()=>(b||a((b={exports:{}}).exports,b),b.exports),bS=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let e of bM(b))!bO.call(a,e)&&(c||"default"!==e)&&bK(a,e,{get:()=>b[e],enumerable:!(d=bL(b,e))||d.enumerable});return a},bT=(a,b)=>bS(bP(bK(null!=a?bJ(bN(a)):{},"default",!b&&a&&a.__esModule?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a),bU=(a,b,c)=>new Promise((d,e)=>{var f=a=>{try{h(c.next(a))}catch(b){e(b)}},g=a=>{try{h(c.throw(a))}catch(b){e(b)}},h=a=>a.done?d(a.value):Promise.resolve(a.value).then(f,g);h((c=c.apply(a,b)).next())}),bV=bR((a,b)=>{!function(c){if("object"==typeof a&& void 0!==b)b.exports=c();else if("function"==typeof define&&define.amd)define([],c);else{var d;("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).localforage=c()}}(function(){return(function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof bQ&&bQ;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof bQ&&bQ,g=0;g<d.length;g++)e(d[g]);return e})({1:[function(a,b,c){(function(a){var c,d=a.MutationObserver||a.WebKitMutationObserver;if(d){var e=0,f=new d(k),g=a.document.createTextNode("");f.observe(g,{characterData:!0}),c=function(){g.data=e=++e%2}}else if(a.setImmediate|| void 0===a.MessageChannel)c="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var b=a.document.createElement("script");b.onreadystatechange=function(){k(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},a.document.documentElement.appendChild(b)}:function(){setTimeout(k,0)};else{var h=new a.MessageChannel;h.port1.onmessage=k,c=function(){h.port2.postMessage(0)}}var i,j=[];function k(){i=!0;for(var a,b,c=j.length;c;){for(b=j,j=[],a=-1;++a<c;)b[a]();c=j.length}i=!1}b.exports=function(a){1!==j.push(a)||i||c()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a,b,c){var d=a(1);function e(){}var f={},g=["REJECTED"],h=["FULFILLED"],i=["PENDING"];function j(a){if("function"!=typeof a)throw TypeError("resolver must be a function");this.state=i,this.queue=[],this.outcome=void 0,a!==e&&n(this,a)}function k(a,b,c){this.promise=a,"function"==typeof b&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),"function"==typeof c&&(this.onRejected=c,this.callRejected=this.otherCallRejected)}function l(a,b,c){d(function(){var d;try{d=b(c)}catch(e){return f.reject(a,e)}d===a?f.reject(a,TypeError("Cannot resolve promise with itself")):f.resolve(a,d)})}function m(a){var b=a&&a.then;if(a&&("object"==typeof a||"function"==typeof a)&&"function"==typeof b)return function(){b.apply(a,arguments)}}function n(a,b){var c=!1;function d(b){c||(c=!0,f.reject(a,b))}function e(b){c||(c=!0,f.resolve(a,b))}var g=o(function(){b(e,d)});"error"===g.status&&d(g.value)}function o(a,b){var c={};try{c.value=a(b),c.status="success"}catch(d){c.status="error",c.value=d}return c}b.exports=j,j.prototype.catch=function(a){return this.then(null,a)},j.prototype.then=function(a,b){if("function"!=typeof a&&this.state===h||"function"!=typeof b&&this.state===g)return this;var c=new this.constructor(e);return this.state!==i?l(c,this.state===h?a:b,this.outcome):this.queue.push(new k(c,a,b)),c},k.prototype.callFulfilled=function(a){f.resolve(this.promise,a)},k.prototype.otherCallFulfilled=function(a){l(this.promise,this.onFulfilled,a)},k.prototype.callRejected=function(a){f.reject(this.promise,a)},k.prototype.otherCallRejected=function(a){l(this.promise,this.onRejected,a)},f.resolve=function(a,b){var c=o(m,b);if("error"===c.status)return f.reject(a,c.value);var d=c.value;if(d)n(a,d);else{a.state=h,a.outcome=b;for(var e=-1,g=a.queue.length;++e<g;)a.queue[e].callFulfilled(b)}return a},f.reject=function(a,b){a.state=g,a.outcome=b;for(var c=-1,d=a.queue.length;++c<d;)a.queue[c].callRejected(b);return a},j.resolve=function(a){return a instanceof this?a:f.resolve(new this(e),a)},j.reject=function(a){var b=new this(e);return f.reject(b,a)},j.all=function(a){var b=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(TypeError("must be an array"));var c=a.length,d=!1;if(!c)return this.resolve([]);for(var g=Array(c),h=0,i=-1,j=new this(e);++i<c;)k(a[i],i);return j;function k(a,e){b.resolve(a).then(function(a){g[e]=a,++h!==c||d||(d=!0,f.resolve(j,g))},function(a){d||(d=!0,f.reject(j,a))})}},j.race=function(a){var b=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(TypeError("must be an array"));var c=a.length,d=!1;if(!c)return this.resolve([]);for(var g=-1,h=new this(e);++g<c;)i(a[g]);return h;function i(a){b.resolve(a).then(function(a){d||(d=!0,f.resolve(h,a))},function(a){d||(d=!0,f.reject(h,a))})}}},{"1":1}],3:[function(a,b,c){(function(b){"function"!=typeof b.Promise&&(b.Promise=a(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"2":2}],4:[function(a,b,c){var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch{return}}();function f(a,b){a=a||[],b=b||{};try{return new Blob(a,b)}catch(c){if("TypeError"!==c.name)throw c;for(var d="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,e=new d,f=0;f<a.length;f+=1)e.append(a[f]);return e.getBlob(b.type)}}"undefined"==typeof Promise&&a(3);var g=Promise;function h(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}function i(a,b,c){"function"==typeof b&&a.then(b),"function"==typeof c&&a.catch(c)}function j(a){return"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a)),a}function k(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var l="local-forage-detect-blob-support",m=void 0,n={},o=Object.prototype.toString,p="readonly",q="readwrite";function r(a){var b=n[a.name],c={};c.promise=new g(function(a,b){c.resolve=a,c.reject=b}),b.deferredOperations.push(c),b.dbReady?b.dbReady=b.dbReady.then(function(){return c.promise}):b.dbReady=c.promise}function s(a){var b=n[a.name].deferredOperations.pop();if(b)return b.resolve(),b.promise}function t(a,b){var c=n[a.name].deferredOperations.pop();if(c)return c.reject(b),c.promise}function u(a,b){return new g(function(c,d){if(n[a.name]=n[a.name]||C(),a.db){if(!b)return c(a.db);r(a),a.db.close()}var f=[a.name];b&&f.push(a.version);var g=e.open.apply(e,f);b&&(g.onupgradeneeded=function(b){var c=g.result;try{c.createObjectStore(a.storeName),b.oldVersion<=1&&c.createObjectStore(l)}catch(d){if("ConstraintError"===d.name)console.warn('The database "'+a.name+'" has been upgraded from version '+b.oldVersion+" to version "+b.newVersion+', but the storage "'+a.storeName+'" already exists.');else throw d}}),g.onerror=function(a){a.preventDefault(),d(g.error)},g.onsuccess=function(){c(g.result),s(a)}})}function v(a){return u(a,!1)}function w(a){return u(a,!0)}function x(a,b){if(!a.db)return!0;var c=!a.db.objectStoreNames.contains(a.storeName),d=a.version<a.db.version,e=a.version>a.db.version;if(d&&(a.version!==b&&console.warn('The database "'+a.name+"\" can't be downgraded from version "+a.db.version+" to version "+a.version+"."),a.version=a.db.version),e||c){if(c){var f=a.db.version+1;f>a.version&&(a.version=f)}return!0}return!1}function y(a){var b=function(a){for(var b=a.length,c=new ArrayBuffer(b),d=new Uint8Array(c),e=0;e<b;e++)d[e]=a.charCodeAt(e);return c}(atob(a.data));return f([b],{type:a.type})}function z(a){return a&&a.__local_forage_encoded_blob}function A(a){var b=this,c=b._initReady().then(function(){var a=n[b._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return i(c,a,a),c}function B(a,b,c,d){void 0===d&&(d=1);try{var e=a.db.transaction(a.storeName,b);c(null,e)}catch(f){if(d>0&&(!a.db||"InvalidStateError"===f.name||"NotFoundError"===f.name))return g.resolve().then(function(){if(!a.db||"NotFoundError"===f.name&&!a.db.objectStoreNames.contains(a.storeName)&&a.version<=a.db.version)return a.db&&(a.version=a.db.version+1),w(a)}).then(function(){return(function(a){r(a);for(var b=n[a.name],c=b.forages,d=0;d<c.length;d++){var e=c[d];e._dbInfo.db&&(e._dbInfo.db.close(),e._dbInfo.db=null)}return a.db=null,v(a).then(function(b){return a.db=b,x(a)?w(a):b}).then(function(d){a.db=b.db=d;for(var e=0;e<c.length;e++)c[e]._dbInfo.db=d}).catch(function(b){throw t(a,b),b})})(a).then(function(){B(a,b,c,d-1)})}).catch(c);c(f)}}function C(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}var D={_driver:"asyncStorage",_initStorage:function(a){var b=this,c={db:null};if(a)for(var d in a)c[d]=a[d];var e=n[c.name];e||(e=C(),n[c.name]=e),e.forages.push(b),b._initReady||(b._initReady=b.ready,b.ready=A);var f=[];function h(){return g.resolve()}for(var i=0;i<e.forages.length;i++){var j=e.forages[i];j!==b&&f.push(j._initReady().catch(h))}var k=e.forages.slice(0);return g.all(f).then(function(){return c.db=e.db,v(c)}).then(function(a){return c.db=a,x(c,b._defaultConfig.version)?w(c):a}).then(function(a){c.db=e.db=a,b._dbInfo=c;for(var d=0;d<k.length;d++){var f=k[d];f!==b&&(f._dbInfo.db=c.db,f._dbInfo.version=c.version)}})},_support:function(){try{if(!e||!e.open)return!1;var a="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),b="function"==typeof fetch&& -1!==fetch.toString().indexOf("[native code");return(!a||b)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch{return!1}}(),iterate:function(a,b){var c=this,d=new g(function(b,d){c.ready().then(function(){B(c._dbInfo,p,function(e,f){if(e)return d(e);try{var g=f.objectStore(c._dbInfo.storeName).openCursor(),h=1;g.onsuccess=function(){var c=g.result;if(c){var d=c.value;z(d)&&(d=y(d));var e=a(d,c.key,h++);void 0!==e?b(e):c.continue()}else b()},g.onerror=function(){d(g.error)}}catch(i){d(i)}})}).catch(d)});return h(d,b),d},getItem:function(a,b){var c=this;a=j(a);var d=new g(function(b,d){c.ready().then(function(){B(c._dbInfo,p,function(e,f){if(e)return d(e);try{var g=f.objectStore(c._dbInfo.storeName).get(a);g.onsuccess=function(){var a=g.result;void 0===a&&(a=null),z(a)&&(a=y(a)),b(a)},g.onerror=function(){d(g.error)}}catch(h){d(h)}})}).catch(d)});return h(d,b),d},setItem:function(a,b,c){var d=this;a=j(a);var e=new g(function(c,e){var h;d.ready().then(function(){var a,c;return h=d._dbInfo,"[object Blob]"===o.call(b)?(a=h.db,"boolean"==typeof m?g.resolve(m):(c=a,new g(function(a){var b=c.transaction(l,q),d=f([""]);b.objectStore(l).put(d,"key"),b.onabort=function(b){b.preventDefault(),b.stopPropagation(),a(!1)},b.oncomplete=function(){var b=navigator.userAgent.match(/Chrome\/(\d+)/);a(navigator.userAgent.match(/Edge\//)||!b||parseInt(b[1],10)>=43)}}).catch(function(){return!1})).then(function(a){return m=a})).then(function(a){var c;return a?b:(c=b,new g(function(a,b){var d=new FileReader;d.onerror=b,d.onloadend=function(b){var d=btoa(b.target.result||"");a({__local_forage_encoded_blob:!0,data:d,type:c.type})},d.readAsBinaryString(c)}))}):b}).then(function(b){B(d._dbInfo,q,function(f,g){if(f)return e(f);try{var h=g.objectStore(d._dbInfo.storeName);null===b&&(b=void 0);var i=h.put(b,a);g.oncomplete=function(){void 0===b&&(b=null),c(b)},g.onabort=g.onerror=function(){var a=i.error?i.error:i.transaction.error;e(a)}}catch(j){e(j)}})}).catch(e)});return h(e,c),e},removeItem:function(a,b){var c=this;a=j(a);var d=new g(function(b,d){c.ready().then(function(){B(c._dbInfo,q,function(e,f){if(e)return d(e);try{var g=f.objectStore(c._dbInfo.storeName).delete(a);f.oncomplete=function(){b()},f.onerror=function(){d(g.error)},f.onabort=function(){var a=g.error?g.error:g.transaction.error;d(a)}}catch(h){d(h)}})}).catch(d)});return h(d,b),d},clear:function(a){var b=this,c=new g(function(a,c){b.ready().then(function(){B(b._dbInfo,q,function(d,e){if(d)return c(d);try{var f=e.objectStore(b._dbInfo.storeName).clear();e.oncomplete=function(){a()},e.onabort=e.onerror=function(){var a=f.error?f.error:f.transaction.error;c(a)}}catch(g){c(g)}})}).catch(c)});return h(c,a),c},length:function(a){var b=this,c=new g(function(a,c){b.ready().then(function(){B(b._dbInfo,p,function(d,e){if(d)return c(d);try{var f=e.objectStore(b._dbInfo.storeName).count();f.onsuccess=function(){a(f.result)},f.onerror=function(){c(f.error)}}catch(g){c(g)}})}).catch(c)});return h(c,a),c},key:function(a,b){var c=this,d=new g(function(b,d){if(a<0){b(null);return}c.ready().then(function(){B(c._dbInfo,p,function(e,f){if(e)return d(e);try{var g=f.objectStore(c._dbInfo.storeName),h=!1,i=g.openKeyCursor();i.onsuccess=function(){var c=i.result;if(!c){b(null);return}0===a||h?b(c.key):(h=!0,c.advance(a))},i.onerror=function(){d(i.error)}}catch(j){d(j)}})}).catch(d)});return h(d,b),d},keys:function(a){var b=this,c=new g(function(a,c){b.ready().then(function(){B(b._dbInfo,p,function(d,e){if(d)return c(d);try{var f=e.objectStore(b._dbInfo.storeName).openKeyCursor(),g=[];f.onsuccess=function(){var b=f.result;if(!b){a(g);return}g.push(b.key),b.continue()},f.onerror=function(){c(f.error)}}catch(h){c(h)}})}).catch(c)});return h(c,a),c},dropInstance:function(a,b){b=k.apply(this,arguments);var c,d=this.config();if((a="function"!=typeof a&&a||{}).name||(a.name=a.name||d.name,a.storeName=a.storeName||d.storeName),a.name){var f=a.name===d.name&&this._dbInfo.db?g.resolve(this._dbInfo.db):v(a).then(function(b){var c=n[a.name],d=c.forages;c.db=b;for(var e=0;e<d.length;e++)d[e]._dbInfo.db=b;return b});c=a.storeName?f.then(function(b){if(b.objectStoreNames.contains(a.storeName)){var c=b.version+1;r(a);var d=n[a.name],f=d.forages;b.close();for(var h=0;h<f.length;h++){var i=f[h];i._dbInfo.db=null,i._dbInfo.version=c}return new g(function(b,d){var f=e.open(a.name,c);f.onerror=function(a){f.result.close(),d(a)},f.onupgradeneeded=function(){f.result.deleteObjectStore(a.storeName)},f.onsuccess=function(){var a=f.result;a.close(),b(a)}}).then(function(a){d.db=a;for(var b=0;b<f.length;b++){var c=f[b];c._dbInfo.db=a,s(c._dbInfo)}}).catch(function(b){throw(t(a,b)||g.resolve()).catch(function(){}),b})}}):f.then(function(b){r(a);var c=n[a.name],d=c.forages;b.close();for(var f=0;f<d.length;f++)d[f]._dbInfo.db=null;return new g(function(b,c){var d=e.deleteDatabase(a.name);d.onerror=d.onblocked=function(a){var b=d.result;b&&b.close(),c(a)},d.onsuccess=function(){var a=d.result;a&&a.close(),b(a)}}).then(function(a){c.db=a;for(var b=0;b<d.length;b++)s(d[b]._dbInfo)}).catch(function(b){throw(t(a,b)||g.resolve()).catch(function(){}),b})})}else c=g.reject("Invalid arguments");return h(c,b),c}},E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F=/^~~local_forage_type~([^~]+)~/,G="__lfsc__:",H=G.length,I="arbf",J="blob",K="si08",L="ui08",M="uic8",N="si16",O="si32",P="ur16",Q="ui32",R="fl32",S="fl64",T=H+I.length,U=Object.prototype.toString;function V(a){var b,c,d,e,f,g=.75*a.length,h=a.length,i=0;"="===a[a.length-1]&&(g--,"="===a[a.length-2]&&g--);var j=new ArrayBuffer(g),k=new Uint8Array(j);for(b=0;b<h;b+=4)c=E.indexOf(a[b]),d=E.indexOf(a[b+1]),e=E.indexOf(a[b+2]),f=E.indexOf(a[b+3]),k[i++]=c<<2|d>>4,k[i++]=(15&d)<<4|e>>2,k[i++]=(3&e)<<6|63&f;return j}function W(a){var b,c=new Uint8Array(a),d="";for(b=0;b<c.length;b+=3)d+=E[c[b]>>2],d+=E[(3&c[b])<<4|c[b+1]>>4],d+=E[(15&c[b+1])<<2|c[b+2]>>6],d+=E[63&c[b+2]];return c.length%3==2?d=d.substring(0,d.length-1)+"=":c.length%3==1&&(d=d.substring(0,d.length-2)+"=="),d}var X={serialize:function(a,b){var c="";if(a&&(c=U.call(a)),a&&("[object ArrayBuffer]"===c||a.buffer&&"[object ArrayBuffer]"===U.call(a.buffer))){var d,e=G;a instanceof ArrayBuffer?(d=a,e+=I):(d=a.buffer,"[object Int8Array]"===c?e+=K:"[object Uint8Array]"===c?e+=L:"[object Uint8ClampedArray]"===c?e+=M:"[object Int16Array]"===c?e+=N:"[object Uint16Array]"===c?e+=P:"[object Int32Array]"===c?e+=O:"[object Uint32Array]"===c?e+=Q:"[object Float32Array]"===c?e+=R:"[object Float64Array]"===c?e+=S:b(Error("Failed to get type for BinaryArray"))),b(e+W(d))}else if("[object Blob]"===c){var f=new FileReader;f.onload=function(){var c="~~local_forage_type~"+a.type+"~"+W(this.result);b(G+J+c)},f.readAsArrayBuffer(a)}else try{b(JSON.stringify(a))}catch(g){console.error("Couldn't convert value into a JSON string: ",a),b(null,g)}},deserialize:function(a){if(a.substring(0,H)!==G)return JSON.parse(a);var b,c=a.substring(T),d=a.substring(H,T);if(d===J&&F.test(c)){var e=c.match(F);b=e[1],c=c.substring(e[0].length)}var g=V(c);switch(d){case I:return g;case J:return f([g],{type:b});case K:return new Int8Array(g);case L:return new Uint8Array(g);case M:return new Uint8ClampedArray(g);case N:return new Int16Array(g);case P:return new Uint16Array(g);case O:return new Int32Array(g);case Q:return new Uint32Array(g);case R:return new Float32Array(g);case S:return new Float64Array(g);default:throw Error("Unkown type: "+d)}},stringToBuffer:V,bufferToString:W};function Y(a,b,c,d){a.executeSql("CREATE TABLE IF NOT EXISTS "+b.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],c,d)}function Z(a,b,c,d,e,f){a.executeSql(c,d,e,function(a,g){g.code===g.SYNTAX_ERR?a.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[b.storeName],function(a,h){h.rows.length?f(a,g):Y(a,b,function(){a.executeSql(c,d,e,f)},f)},f):f(a,g)},f)}function $(a,b,c,d){var e=this;a=j(a);var f=new g(function(f,g){e.ready().then(function(){void 0===b&&(b=null);var h=b,i=e._dbInfo;i.serializer.serialize(b,function(b,j){j?g(j):i.db.transaction(function(c){Z(c,i,"INSERT OR REPLACE INTO "+i.storeName+" (key, value) VALUES (?, ?)",[a,b],function(){f(h)},function(a,b){g(b)})},function(b){if(b.code===b.QUOTA_ERR){if(d>0){f($.apply(e,[a,h,c,d-1]));return}g(b)}})})}).catch(g)});return h(f,c),f}var _={_driver:"webSQLStorage",_initStorage:function(a){var b=this,c={db:null};if(a)for(var d in a)c[d]="string"!=typeof a[d]?a[d].toString():a[d];var e=new g(function(a,d){try{c.db=openDatabase(c.name,String(c.version),c.description,c.size)}catch(e){return d(e)}c.db.transaction(function(e){Y(e,c,function(){b._dbInfo=c,a()},function(a,b){d(b)})},d)});return c.serializer=X,e},_support:"function"==typeof openDatabase,iterate:function(a,b){var c=this,d=new g(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){Z(c,e,"SELECT * FROM "+e.storeName,[],function(c,d){for(var f=d.rows,g=f.length,h=0;h<g;h++){var i=f.item(h),j=i.value;if(j&&(j=e.serializer.deserialize(j)),void 0!==(j=a(j,i.key,h+1))){b(j);return}}b()},function(a,b){d(b)})})}).catch(d)});return h(d,b),d},getItem:function(a,b){var c=this;a=j(a);var d=new g(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){Z(c,e,"SELECT * FROM "+e.storeName+" WHERE key = ? LIMIT 1",[a],function(a,c){var d=c.rows.length?c.rows.item(0).value:null;d&&(d=e.serializer.deserialize(d)),b(d)},function(a,b){d(b)})})}).catch(d)});return h(d,b),d},setItem:function(a,b,c){return $.apply(this,[a,b,c,1])},removeItem:function(a,b){var c=this;a=j(a);var d=new g(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){Z(c,e,"DELETE FROM "+e.storeName+" WHERE key = ?",[a],function(){b()},function(a,b){d(b)})})}).catch(d)});return h(d,b),d},clear:function(a){var b=this,c=new g(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){Z(b,d,"DELETE FROM "+d.storeName,[],function(){a()},function(a,b){c(b)})})}).catch(c)});return h(c,a),c},length:function(a){var b=this,c=new g(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){Z(b,d,"SELECT COUNT(key) as c FROM "+d.storeName,[],function(b,c){a(c.rows.item(0).c)},function(a,b){c(b)})})}).catch(c)});return h(c,a),c},key:function(a,b){var c=this,d=new g(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){Z(c,e,"SELECT key FROM "+e.storeName+" WHERE id = ? LIMIT 1",[a+1],function(a,c){b(c.rows.length?c.rows.item(0).key:null)},function(a,b){d(b)})})}).catch(d)});return h(d,b),d},keys:function(a){var b=this,c=new g(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){Z(b,d,"SELECT key FROM "+d.storeName,[],function(b,c){for(var d=[],e=0;e<c.rows.length;e++)d.push(c.rows.item(e).key);a(d)},function(a,b){c(b)})})}).catch(c)});return h(c,a),c},dropInstance:function(a,b){b=k.apply(this,arguments);var c=this.config();(a="function"!=typeof a&&a||{}).name||(a.name=a.name||c.name,a.storeName=a.storeName||c.storeName);var d,e=this;return d=a.name?new g(function(b){var d,f;d=a.name===c.name?e._dbInfo.db:openDatabase(a.name,"","",0),b(a.storeName?{db:d,storeNames:[a.storeName]}:(f=d,new g(function(a,b){f.transaction(function(c){c.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(b,c){for(var d=[],e=0;e<c.rows.length;e++)d.push(c.rows.item(e).name);a({db:f,storeNames:d})},function(a,c){b(c)})},function(a){b(a)})})))}).then(function(a){return new g(function(b,c){a.db.transaction(function(d){function e(a){return new g(function(b,c){d.executeSql("DROP TABLE IF EXISTS "+a,[],function(){b()},function(a,b){c(b)})})}for(var f=[],h=0,i=a.storeNames.length;h<i;h++)f.push(e(a.storeNames[h]));g.all(f).then(function(){b()}).catch(function(a){c(a)})},function(a){c(a)})})}):g.reject("Invalid arguments"),h(d,b),d}};function aa(a,b){var c=a.name+"/";return a.storeName!==b.storeName&&(c+=a.storeName+"/"),c}var ab={_driver:"localStorageWrapper",_initStorage:function(a){var b=this,c={};if(a)for(var d in a)c[d]=a[d];return c.keyPrefix=aa(a,b._defaultConfig),!function(){var a="_localforage_support_test";try{return localStorage.setItem(a,!0),localStorage.removeItem(a),!1}catch{return!0}}()||localStorage.length>0?(b._dbInfo=c,c.serializer=X,g.resolve()):g.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function(a,b){var c=this,d=c.ready().then(function(){for(var b=c._dbInfo,d=b.keyPrefix,e=d.length,f=localStorage.length,g=1,h=0;h<f;h++){var i=localStorage.key(h);if(0===i.indexOf(d)){var j=localStorage.getItem(i);if(j&&(j=b.serializer.deserialize(j)),void 0!==(j=a(j,i.substring(e),g++)))return j}}});return h(d,b),d},getItem:function(a,b){var c=this;a=j(a);var d=c.ready().then(function(){var b=c._dbInfo,d=localStorage.getItem(b.keyPrefix+a);return d&&(d=b.serializer.deserialize(d)),d});return h(d,b),d},setItem:function(a,b,c){var d=this;a=j(a);var e=d.ready().then(function(){void 0===b&&(b=null);var c=b;return new g(function(e,f){var g=d._dbInfo;g.serializer.serialize(b,function(b,d){if(d)f(d);else try{localStorage.setItem(g.keyPrefix+a,b),e(c)}catch(h){("QuotaExceededError"===h.name||"NS_ERROR_DOM_QUOTA_REACHED"===h.name)&&f(h),f(h)}})})});return h(e,c),e},removeItem:function(a,b){var c=this;a=j(a);var d=c.ready().then(function(){var b=c._dbInfo;localStorage.removeItem(b.keyPrefix+a)});return h(d,b),d},clear:function(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var d=localStorage.key(c);0===d.indexOf(a)&&localStorage.removeItem(d)}});return h(c,a),c},length:function(a){var b=this.keys().then(function(a){return a.length});return h(b,a),b},key:function(a,b){var c=this,d=c.ready().then(function(){var b,d=c._dbInfo;try{b=localStorage.key(a)}catch{b=null}return b&&(b=b.substring(d.keyPrefix.length)),b});return h(d,b),d},keys:function(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo,c=localStorage.length,d=[],e=0;e<c;e++){var f=localStorage.key(e);0===f.indexOf(a.keyPrefix)&&d.push(f.substring(a.keyPrefix.length))}return d});return h(c,a),c},dropInstance:function(a,b){if(b=k.apply(this,arguments),!(a="function"!=typeof a&&a||{}).name){var c=this.config();a.name=a.name||c.name,a.storeName=a.storeName||c.storeName}var d,e=this;return d=a.name?new g(function(b){b(a.storeName?aa(a,e._defaultConfig):a.name+"/")}).then(function(a){for(var b=localStorage.length-1;b>=0;b--){var c=localStorage.key(b);0===c.indexOf(a)&&localStorage.removeItem(c)}}):g.reject("Invalid arguments"),h(d,b),d}},ac=function(a,b){for(var c,d,e=a.length,f=0;f<e;){if(c=a[f],c===(d=b)||"number"==typeof c&&"number"==typeof d&&isNaN(c)&&isNaN(d))return!0;f++}return!1},ad=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},ae={},af={},ag={INDEXEDDB:D,WEBSQL:_,LOCALSTORAGE:ab},ah=[ag.INDEXEDDB._driver,ag.WEBSQL._driver,ag.LOCALSTORAGE._driver],ai=["dropInstance"],aj=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ai),ak={description:"",driver:ah.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function al(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,c)})}}function am(){for(var a=1;a<arguments.length;a++){var b=arguments[a];if(b)for(var c in b)b.hasOwnProperty(c)&&(ad(b[c])?arguments[0][c]=b[c].slice():arguments[0][c]=b[c])}return arguments[0]}var an=new(function(){function a(b){for(var c in!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,a),ag)if(ag.hasOwnProperty(c)){var d=ag[c],e=d._driver;this[c]=e,ae[e]||this.defineDriver(d)}this._defaultConfig=am({},ak),this._config=am({},this._defaultConfig,b),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return a.prototype.config=function(a){if((void 0===a?"undefined":d(a))!=="object")return"string"==typeof a?this._config[a]:this._config;if(this._ready)return Error("Can't call config() after localforage has been used.");for(var b in a){if("storeName"===b&&(a[b]=a[b].replace(/\W/g,"_")),"version"===b&&"number"!=typeof a[b])return Error("Database version must be a number.");this._config[b]=a[b]}return!("driver"in a)||!a.driver||this.setDriver(this._config.driver)},a.prototype.defineDriver=function(a,b,c){var d=new g(function(b,c){try{var d=a._driver,e=Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!a._driver){c(e);return}for(var f=aj.concat("_initStorage"),i=0,j=f.length;i<j;i++){var k=f[i];if((!ac(ai,k)||a[k])&&"function"!=typeof a[k]){c(e);return}}(function(){for(var b=function(a){return function(){var b=Error("Method "+a+" is not implemented by the current driver"),c=g.reject(b);return h(c,arguments[arguments.length-1]),c}},c=0,d=ai.length;c<d;c++){var e=ai[c];a[e]||(a[e]=b(e))}})();var l=function(c){ae[d]&&console.info("Redefining LocalForage driver: "+d),ae[d]=a,af[d]=c,b()};"_support"in a?a._support&&"function"==typeof a._support?a._support().then(l,c):l(!!a._support):l(!0)}catch(m){c(m)}});return i(d,b,c),d},a.prototype.driver=function(){return this._driver||null},a.prototype.getDriver=function(a,b,c){var d=ae[a]?g.resolve(ae[a]):g.reject(Error("Driver not found."));return i(d,b,c),d},a.prototype.getSerializer=function(a){var b=g.resolve(X);return i(b,a),b},a.prototype.ready=function(a){var b=this,c=b._driverSet.then(function(){return null===b._ready&&(b._ready=b._initDriver()),b._ready});return i(c,a,a),c},a.prototype.setDriver=function(a,b,c){var d=this;ad(a)||(a=[a]);var e=this._getSupportedDrivers(a);function f(){d._config.driver=d.driver()}function h(a){return d._extend(a),f(),d._ready=d._initStorage(d._config),d._ready}var j=null!==this._driverSet?this._driverSet.catch(function(){return g.resolve()}):g.resolve();return this._driverSet=j.then(function(){var a=e[0];return d._dbInfo=null,d._ready=null,d.getDriver(a).then(function(a){var b;d._driver=a._driver,f(),d._wrapLibraryMethodsWithReady(),d._initDriver=(b=e,function(){var a=0;function c(){for(;a<b.length;){var e=b[a];return a++,d._dbInfo=null,d._ready=null,d.getDriver(e).then(h).catch(c)}f();var i=Error("No available storage method found.");return d._driverSet=g.reject(i),d._driverSet}return c()})})}).catch(function(){f();var a=Error("No available storage method found.");return d._driverSet=g.reject(a),d._driverSet}),i(this._driverSet,b,c),this._driverSet},a.prototype.supports=function(a){return!!af[a]},a.prototype._extend=function(a){am(this,a)},a.prototype._getSupportedDrivers=function(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c];this.supports(e)&&b.push(e)}return b},a.prototype._wrapLibraryMethodsWithReady=function(){for(var a=0,b=aj.length;a<b;a++)al(this,aj[a])},a.prototype.createInstance=function(b){return new a(b)},a}());b.exports=an},{"3":3}]},{},[4])(4)})}),bW=bR((a,b)=>{!function(c,d){"object"==typeof a&& void 0!==b?d(a):"function"==typeof define&&define.amd?define("localforage-driver-memory",["exports"],d):d(c.LocalforageDriverMemory={})}("undefined"!=typeof self?self:a,function(a){function b(a){var b="function"==typeof Symbol&&a[Symbol.iterator],c=0;return b?b.call(a):{next:function(){return a&&c>=a.length&&(a=void 0),{value:a&&a[c++],done:!a}}}}var c=/^~~local_forage_type~([^~]+)~/,d=Object.prototype.toString;function e(a){var b=.75*a.length,c=a.length;"="===a[a.length-1]&&(b--,"="===a[a.length-2]&&b--);for(var d=new ArrayBuffer(b),e=new Uint8Array(d),f=0,g=0;f<c;f+=4){var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[f]),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[f+1]),j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[f+2]),k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[f+3]);e[g++]=h<<2|i>>4,e[g++]=(15&i)<<4|j>>2,e[g++]=(3&j)<<6|63&k}return d}function f(a){for(var b=new Uint8Array(a),c="",d=0;d<b.length;d+=3)c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b[d]>>2],c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(3&b[d])<<4|b[d+1]>>4],c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(15&b[d+1])<<2|b[d+2]>>6],c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[63&b[d+2]];return b.length%3==2?c=c.substring(0,c.length-1)+"=":b.length%3==1&&(c=c.substring(0,c.length-2)+"=="),c}function g(a){if(null===a||"object"!=typeof a||"isActiveClone"in a)return a;var c,d,e=a instanceof Date?new Date(a):a.constructor();try{for(var f=b(Object.keys(a)),h=f.next();!h.done;h=f.next()){var i=h.value;Object.prototype.hasOwnProperty.call(a,i)&&(a.isActiveClone=null,e[i]=g(a[i]),delete a.isActiveClone)}}catch(j){c={error:j}}finally{try{h&&!h.done&&(d=f.return)&&d.call(f)}finally{if(c)throw c.error}}return e}function h(a,b){return(a.name||b.name)+"/"+(a.storeName||b.storeName)+"/"}function i(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}function j(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function k(a,b){var c,d=this;if(b=j.apply(this,arguments),!(a="function"!=typeof a&&a||{}).name){var e=this.config();a.name=a.name||e.name,a.storeName=a.storeName||e.storeName}return{promise:a.name?new Promise(function(b){b(a.storeName?h(a,d._defaultConfig):a.name+"/")}):Promise.reject("Invalid arguments"),callback:b}}function l(a){return"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a)),a}var m={bufferToString:f,deserialize:function(a){if("__lfsc__:"!==a.substring(0,9))return JSON.parse(a);var b,d=a.substring(13),f=a.substring(9,13);if("blob"===f&&c.test(d)){var g=d.match(c);b=g[1],d=d.substring(g[0].length)}var h=e(d);switch(f){case"arbf":return h;case"blob":return function(a,b){a=a||[],b=b||{};try{return new Blob(a,b)}catch(c){if("TypeError"!==c.name)throw c;for(var d="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,e=new d,f=0;f<a.length;f+=1)e.append(a[f]);return e.getBlob(b.type)}}([h],{type:b});case"si08":return new Int8Array(h);case"ui08":return new Uint8Array(h);case"uic8":return new Uint8ClampedArray(h);case"si16":return new Int16Array(h);case"ur16":return new Uint16Array(h);case"si32":return new Int32Array(h);case"ui32":return new Uint32Array(h);case"fl32":return new Float32Array(h);case"fl64":return new Float64Array(h);default:throw Error("Unkown type: "+f)}},serialize:function(a,b){var c="";if(a&&(c=d.call(a)),a&&("[object ArrayBuffer]"===c||a.buffer&&"[object ArrayBuffer]"===d.call(a.buffer))){var e=void 0,g="__lfsc__:";a instanceof ArrayBuffer?(e=a,g+="arbf"):(e=a.buffer,"[object Int8Array]"===c?g+="si08":"[object Uint8Array]"===c?g+="ui08":"[object Uint8ClampedArray]"===c?g+="uic8":"[object Int16Array]"===c?g+="si16":"[object Uint16Array]"===c?g+="ur16":"[object Int32Array]"===c?g+="si32":"[object Uint32Array]"===c?g+="ui32":"[object Float32Array]"===c?g+="fl32":"[object Float64Array]"===c?g+="fl64":b(Error("Failed to get type for BinaryArray"))),b(g+f(e))}else if("[object Blob]"===c){var h=new FileReader;h.onload=function(){var c="~~local_forage_type~"+a.type+"~"+f(this.result);b("__lfsc__:blob"+c)},h.readAsArrayBuffer(a)}else try{b(JSON.stringify(a))}catch(i){console.error("Couldn't convert value into a JSON string: ",a),b(null,i)}},stringToBuffer:e},n={},o=function(){function a(a){this.kp=a,this.data={}}return a.resolve=function(b){return n[b]||(n[b]=new a(b)),n[b]},a.prototype.clear=function(){this.data={}},a.prototype.drop=function(){this.clear(),delete n[this.kp]},a.prototype.get=function(a){return this.data[a]},a.prototype.key=function(a){return this.keys()[a]},a.prototype.keys=function(){return Object.keys(this.data)},a.prototype.rm=function(a){delete this.data[a]},a.prototype.set=function(a,b){this.data[a]=b},a}();a._support=!0,a._driver="localforage-driver-memory",a._initStorage=function(a){var b=a?g(a):{},c=h(b,this._defaultConfig),d=o.resolve(c);return this._dbInfo=b,this._dbInfo.serializer=m,this._dbInfo.keyPrefix=c,this._dbInfo.mStore=d,Promise.resolve()},a.clear=function(a){var b=this,c=this.ready().then(function(){b._dbInfo.mStore.clear()});return i(c,a),c},a.dropInstance=function(a,b){var c=k.apply(this,arguments),d=c.promise,e=c.callback;return i(d.then(function(a){o.resolve(a).drop()}),e),d},a.getItem=function(a,b){var c=this;a=l(a);var d=this.ready().then(function(){var b=c._dbInfo.mStore.get(a);return null==b?null:c._dbInfo.serializer.deserialize(b)});return i(d,b),d},a.iterate=function(a,b){var c=this,d=this.ready().then(function(){for(var b=c._dbInfo.mStore,d=b.keys(),e=0;e<d.length;e++){var f=b.get(d[e]);if(f&&(f=c._dbInfo.serializer.deserialize(f)),void 0!==(f=a(f,d[e],e+1)))return f}});return i(d,b),d},a.key=function(a,b){var c=this,d=this.ready().then(function(){var b;try{b=c._dbInfo.mStore.key(a),void 0===b&&(b=null)}catch{b=null}return b});return i(d,b),d},a.keys=function(a){var b=this,c=this.ready().then(function(){return b._dbInfo.mStore.keys()});return i(c,a),c},a.length=function(a){var b=this.keys().then(function(a){return a.length});return i(b,a),b},a.removeItem=function(a,b){var c=this;a=l(a);var d=this.ready().then(function(){c._dbInfo.mStore.rm(a)});return i(d,b),d},a.setItem=function(a,b,c){var d=this;a=l(a);var e=this.ready().then(function(){void 0===b&&(b=null);var c=b;return new Promise(function(e,f){d._dbInfo.serializer.serialize(b,function(b,g){if(g)f(g);else try{d._dbInfo.mStore.set(a,b),e(c)}catch(h){f(h)}})})});return i(e,c),e},Object.defineProperty(a,"__esModule",{value:!0})})}),bX=bT(bV()),bY=bT(bW()),bZ={display:"none",position:"fixed",top:"0",right:"0",width:"100%",height:"100%",borderRadius:"0",border:"none",zIndex:"2147483647"},b$=class extends bI{constructor(){super(...arguments),this.activeElement=null}init(){this.test="hello",this.iframe=new Promise(a=>{let b=()=>{var b;if(b=encodeURIComponent(this.parameters),Boolean([].slice.call(document.querySelectorAll(".magic-iframe")).find(a=>a.src.includes(b))))new aQ(o.DuplicateIframe,"Duplicate iframes found.").log();else{let c=document.createElement("iframe");c.classList.add("magic-iframe"),c.dataset.magicIframeLabel=bx(this.endpoint).host,c.title="Secure Modal",c.src=bx(`/send?params=${encodeURIComponent(this.parameters)}`,this.endpoint).href,function(a){for(let[b,c]of Object.entries(bZ))a.style[b]=c}(c),document.body.appendChild(c),a(c)}};["loaded","interactive","complete"].includes(document.readyState)?b():window.addEventListener("load",b,!1)}),window.addEventListener("message",a=>{var b;if(a.origin===this.endpoint&&a.data&&a.data.msgType&&this.messageHandlers.size)for(let c of(a.data.response=null!=(b=a.data.response)?b:{},this.messageHandlers.values()))c(a)})}showOverlay(){return bU(this,null,function*(){let a=yield this.iframe;a.style.display="block",this.activeElement=document.activeElement,a.focus()})}hideOverlay(){return bU(this,null,function*(){var a;(yield this.iframe).style.display="none",(null==(a=this.activeElement)?void 0:a.focus)&&this.activeElement.focus(),this.activeElement=null})}_post(a){return bU(this,null,function*(){let b=yield this.iframe;if(b&&b.contentWindow)b.contentWindow.postMessage(a,this.endpoint);else throw new aO(n.ModalNotReady,"Modal is not ready.")})}},b_=(bG=bE,bH={platform:"web",sdkName:"magic-sdk",version:"9.0.0",defaultEndpoint:"https://auth.magic.link/",ViewController:b$,configureStorage:()=>bU(void 0,null,function*(){let a=bX.default.createInstance({name:"MagicAuthLocalStorageDB",storeName:"MagicAuthLocalStorage"});return yield a.defineDriver(bY),yield a.setDriver([bX.default.INDEXEDDB,bX.default.LOCALSTORAGE,bY._driver]),a})},Object.assign(aN,bH),bG),b0=new b_("pk_live_F3441980D5C8DB6F")},8510:function(a,b,c){"use strict";c.r(b);var d=c(7568),e=c(1799),f=c(4051),g=c.n(f),h=c(5893);c(906),c(4629);var i=c(4865),j=c.n(i),k=c(3635),l=c(2983),m=c(7294),n=c(1163);b.default=function(a){var b=a.Component,c=a.pageProps,f=(0,n.useRouter)(),i=(0,m.useState)(!0),o=i[0],p=i[1];return((0,m.useEffect)(function(){var a;(a=(0,d.Z)(g().mark(function a(){var b,c,d;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l.m.user.isLoggedIn();case 3:b=a.sent,d=(c=document.cookie).split("=")[1],console.log({cookieValue:d}),d&&b?f.push("/"):f.push("/login"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.error("AUTH ERROR from _app.js",a.t0.message);case 13:case"end":return a.stop()}},a,null,[[0,10]])})),function(){return a.apply(this,arguments)})()},[]),(0,m.useEffect)(function(){var a=function(){p(!1),j().start()};return f.events.on("routeChangeStart",a),f.events.on("routeChangeComplete",function(){return j().done()}),f.events.on("routeChangeError",function(){return j().done()}),function(){f.events.off("routeChangeStart",function(){return j().start()}),f.events.off("routeChangeComplete",function(){return j().done()}),f.events.off("routeChangeError",function(){return j().done()})}},[f]),o)?(0,h.jsx)(k.Z,{}):(0,h.jsx)(b,(0,e.Z)({},c))}},9152:function(a){a.exports={loader:"Loading_loader__N8Bcr"}},4629:function(){},906:function(){},1163:function(a,b,c){a.exports=c(387)},4865:function(a,b,c){var d,e; /* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */ !function(f,g){void 0!==(e="function"==typeof(d=g)?d.call(b,c,b,a):d)&&(a.exports=e)}(this,function(){var a={};a.version="0.2.0";var b,c,d=a.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function e(a,b,c){return a<b?b:a>c?c:a}function f(a){return(-1+a)*100}a.configure=function(a){var b,c;for(b in a)void 0!==(c=a[b])&&a.hasOwnProperty(b)&&(d[b]=c);return this},a.status=null,a.set=function(b){var c=a.isStarted();b=e(b,d.minimum,1),a.status=1===b?null:b;var i=a.render(!c),j=i.querySelector(d.barSelector),k=d.speed,l=d.easing;return i.offsetWidth,g(function(c){var e,g,m,n;""===d.positionUsing&&(d.positionUsing=a.getPositioningCSS()),h(j,(e=b,g=k,m=l,(n="translate3d"===d.positionUsing?{transform:"translate3d("+f(e)+"%,0,0)"}:"translate"===d.positionUsing?{transform:"translate("+f(e)+"%,0)"}:{"margin-left":f(e)+"%"}).transition="all "+g+"ms "+m,n)),1===b?(h(i,{transition:"none",opacity:1}),i.offsetWidth,setTimeout(function(){h(i,{transition:"all "+k+"ms linear",opacity:0}),setTimeout(function(){a.remove(),c()},k)},k)):setTimeout(c,k)}),this},a.isStarted=function(){return"number"==typeof a.status},a.start=function(){a.status||a.set(0);var b=function(){setTimeout(function(){a.status&&(a.trickle(),b())},d.trickleSpeed)};return d.trickle&&b(),this},a.done=function(b){return b||a.status?a.inc(.3+.5*Math.random()).set(1):this},a.inc=function(b){var c=a.status;return c?("number"!=typeof b&&(b=(1-c)*e(Math.random()*c,.1,.95)),c=e(c+b,0,.994),a.set(c)):a.start()},a.trickle=function(){return a.inc(Math.random()*d.trickleRate)},b=0,c=0,a.promise=function(d){return d&&"resolved"!==d.state()&&(0===c&&a.start(),b++,c++,d.always(function(){0== --c?(b=0,a.done()):a.set((b-c)/b)})),this},a.render=function(b){if(a.isRendered())return document.getElementById("nprogress");j(document.documentElement,"nprogress-busy");var c=document.createElement("div");c.id="nprogress",c.innerHTML=d.template;var e,g=c.querySelector(d.barSelector),i=b?"-100":f(a.status||0),k=document.querySelector(d.parent);return h(g,{transition:"all 0 linear",transform:"translate3d("+i+"%,0,0)"}),!d.showSpinner&&(e=c.querySelector(d.spinnerSelector))&&m(e),k!=document.body&&j(k,"nprogress-custom-parent"),k.appendChild(c),c},a.remove=function(){k(document.documentElement,"nprogress-busy"),k(document.querySelector(d.parent),"nprogress-custom-parent");var a=document.getElementById("nprogress");a&&m(a)},a.isRendered=function(){return!!document.getElementById("nprogress")},a.getPositioningCSS=function(){var a=document.body.style,b="WebkitTransform"in a?"Webkit":"MozTransform"in a?"Moz":"msTransform"in a?"ms":"OTransform"in a?"O":"";return b+"Perspective" in a?"translate3d":b+"Transform" in a?"translate":"margin"};var g=function(){var a=[];function b(){var c=a.shift();c&&c(b)}return function(c){a.push(c),1==a.length&&b()}}(),h=function(){var a=["Webkit","O","Moz","ms"],b={};function c(c,d,e){var f,g;d=b[f=(g=f=d).replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(a,b){return b.toUpperCase()})]||(b[f]=function(b){var c=document.body.style;if(b in c)return b;for(var d,e=a.length,f=b.charAt(0).toUpperCase()+b.slice(1);e--;)if((d=a[e]+f)in c)return d;return b}(f)),c.style[d]=e}return function(a,b){var d,e,f=arguments;if(2==f.length)for(d in b)void 0!==(e=b[d])&&b.hasOwnProperty(d)&&c(a,d,e);else c(a,f[1],f[2])}}();function i(a,b){return("string"==typeof a?a:l(a)).indexOf(" "+b+" ")>=0}function j(a,b){var c=l(a);i(c,b)||(a.className=(c+b).substring(1))}function k(a,b){var c,d=l(a);i(a,b)&&(c=d.replace(" "+b+" "," "),a.className=c.substring(1,c.length-1))}function l(a){return(" "+(a.className||"")+" ").replace(/\s+/gi," ")}function m(a){a&&a.parentNode&&a.parentNode.removeChild(a)}return a})},4155:function(a){var b,c,d,e=a.exports={};function f(){throw Error("setTimeout has not been defined")}function g(){throw Error("clearTimeout has not been defined")}function h(a){if(b===setTimeout)return setTimeout(a,0);if((b===f||!b)&&setTimeout)return b=setTimeout,setTimeout(a,0);try{return b(a,0)}catch(c){try{return b.call(null,a,0)}catch(d){return b.call(this,a,0)}}}!function(){try{b="function"==typeof setTimeout?setTimeout:f}catch(a){b=f}try{c="function"==typeof clearTimeout?clearTimeout:g}catch(d){c=g}}();var i=[],j=!1,k=-1;function l(){j&&d&&(j=!1,d.length?i=d.concat(i):k=-1,i.length&&m())}function m(){if(!j){var a=h(l);j=!0;for(var b=i.length;b;){for(d=i,i=[];++k<b;)d&&d[k].run();k=-1,b=i.length}d=null,j=!1,function(a){if(c===clearTimeout)return clearTimeout(a);if((c===g||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(a);try{c(a)}catch(b){try{return c.call(null,a)}catch(d){return c.call(this,a)}}}(a)}}function n(a,b){this.fun=a,this.array=b}function o(){}e.nextTick=function(a){var b=Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];i.push(new n(a,b)),1!==i.length||j||h(m)},n.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=o,e.addListener=o,e.once=o,e.off=o,e.removeListener=o,e.removeAllListeners=o,e.emit=o,e.prependListener=o,e.prependOnceListener=o,e.listeners=function(a){return[]},e.binding=function(a){throw Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(a){throw Error("process.chdir is not supported")},e.umask=function(){return 0}},7568:function(a,b,c){"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}}c.d(b,{Z:function(){return e}})},1799:function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},e=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),e.forEach(function(b){d(a,b,c[b])})}return a}c.d(b,{Z:function(){return e}})}},function(a){var b=function(b){return a(a.s=b)};a.O(0,[774,179],function(){return b(1118),b(387)}),_N_E=a.O()}])